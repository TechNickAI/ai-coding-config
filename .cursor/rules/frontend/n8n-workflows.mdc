---
description: When creating or editing n8n workflows
alwaysApply: false
---

# n8n Workflows

## Code Snippets

When creating code snippet functions:

- Use Python, not JavaScript
- Create them as separate files in the workflow directory
- This allows independent unit testing
- Edit Python directly and test it separately

Example structure:

```
workflows/
  my-workflow/
    process_data.py
    test_process_data.py
    agent_prompts.md
    workflow.json
```

## Agent Prompts

Put agent prompts in separate `.md` files for easy editing:

```markdown
# Agent: Data Processor

## System Prompt

You are a data processing agent...

## User Prompt

Process the following data: {{ data }}
```

## Workflow Assembly

Only at the end of a session, assemble the final `.json` workflow file by including:

- Python snippets where appropriate
- Agent prompts in the right nodes

## Node Positioning

Pay attention to positioning nodes in the UI for good UX:

- Group related nodes together
- Use consistent spacing
- Create logical left-to-right flow
- Add sticky notes for documentation

## Testing

Before assembling into JSON:

- Unit test all Python functions
- Validate all agent prompts
- Test error handling paths
- Verify data transformations
